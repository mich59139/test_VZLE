<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vizille en Mouvement – Tableau de bord</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="header-content">
            <!-- Logo discret ajouté dans l’en‑tête -->
            <img src="img/logo.jpeg" alt="Logo Vizille en mouvement" class="logo">
            <div class="header-text">
                <h1>Vizille en Mouvement</h1>
                <p>Bilan des actions 2020‑2027</p>
            </div>
        </div>
    </header>
    <main>
        <!-- Résumé statistique -->
        <section id="stats" class="stats-section">
            <div class="stat-card">
                <h3>Total des projets</h3>
                <p id="stat-total" class="stat-value">0</p>
            </div>
            <div class="stat-card realised">
                <h3>Réalisés</h3>
                <p id="stat-realised" class="stat-value">0</p>
            </div>
            <div class="stat-card ongoing">
                <h3>En cours</h3>
                <p id="stat-ongoing" class="stat-value">0</p>
            </div>
            <div class="stat-card project">
                <h3>Projets</h3>
                <p id="stat-project" class="stat-value">0</p>
            </div>
            <div class="stat-card budget">
                <h3>Budget total</h3>
                <p id="stat-budget" class="stat-value">0 €</p>
            </div>
        </section>

        <!-- Filtres -->
        <section id="filters" class="filters-section">
            <div class="filter-group">
                <label>Statut&nbsp;:</label>
                <div id="status-buttons" class="status-buttons">
                    <button class="status-btn active-status-btn" data-status="all">Tous</button>
                    <button class="status-btn" data-status="RÉALISÉ">Réalisé</button>
                    <button class="status-btn" data-status="EN COURS">En cours</button>
                    <button class="status-btn" data-status="PROJET">Projet</button>
                </div>
            </div>
            <div class="filter-group">
                <label for="theme-filter">Thème&nbsp;:</label>
                <select id="theme-filter"></select>
            </div>
            <div class="filter-group">
                <label for="year-filter">Année&nbsp;:</label>
                <select id="year-filter"></select>
            </div>
            <div class="filter-group search-group">
                <label for="search-input">Recherche&nbsp;:</label>
                <input type="text" id="search-input" placeholder="Rechercher un projet...">
            </div>
            <div class="filter-group">
                <button id="reset-btn" class="reset-btn">Réinitialiser</button>
            </div>
        </section>

        <!-- Options de présentation (thèmes ou cartes) -->
        <section id="view-options" class="view-options">
            <span class="view-label">Affichage :</span>
            <button id="view-theme-btn" class="view-btn active-view-btn" data-view="theme">Thèmes</button>
            <button id="view-cards-btn" class="view-btn" data-view="cards">Cartes</button>
        </section>

        <!-- Formulaire de contribution -->
        <section class="update-form-section">
            <h2>Proposer une mise à jour</h2>
            <!-- Ce formulaire envoie vos propositions à l'adresse configurée sur Formspree -->
            <form action="https://formspree.io/f/xjknewpy" method="POST" class="update-form">
                <div class="form-group">
                    <label for="password">Mot de passe (optionnel)&nbsp;:</label>
                    <!-- Champ de mot de passe non obligatoire pour contrôler les envois -->
                    <input type="password" id="password" name="password" placeholder="Mot de passe pour validation">
                </div>
                <div class="form-group">
                    <label for="message">Description de la proposition :</label>
                    <textarea id="message" name="message" rows="4" placeholder="Décrivez l’action à ajouter ou la correction à apporter..." required></textarea>
                </div>
                <button type="submit" class="submit-btn">Envoyer</button>
                <p class="form-note">Cette proposition sera transmise directement par e‑mail ; vous recevrez une confirmation.</p>
            </form>
        </section>

        <!-- Conteneur des panneaux (groupés par thème) -->
        <section id="accordion-container" class="accordion-container"></section>

        <!-- Nouvelle vue : conteneur des cartes (masqué par défaut) -->
        <section id="cards-container" class="cards-container" style="display: none;"></section>
    </main>
    <script src="data.js"></script>
    <script src="script.js"></script>
</body>
</html>